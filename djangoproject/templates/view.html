{% load static %}
<!DOCTYPE html>
<html>

<head>
    <title>View Applications</title>
    <link rel="stylesheet" href="{% static 'style.css' %}">
</head>

<body>
    <div class="container view-container">
        <h1>View Applications</h1>
        <table>
            <tr>
                <th>ID</th>
                <th>Company</th>
                <th>Role</th>
                <th>Type</th>
                <th>Package</th>
                <th>Status</th>
                <th>Date</th>
                <th>Notes</th>
                <th>Actions</th>
            </tr>
            {% for i in data %} <!-- Loop through all CareerApp objects -->
            <!-- 'i' is like the object of CareerApp model -->
            <tr>
                <td>{{ i.id }}</td>
                <td>{{ i.company }}</td>
                <td>{{ i.role }}</td>
                <td>{{ i.type }}</td>
                <td>{{ i.package }}</td>
                <td>{{ i.status }}</td>
                <td>{{ i.date }}</td>
                <td>{{ i.notes }}</td>
                <td>
                    <!-- { % url 'update' i.id % } ->  1. find 'update' in urls.py ( { % url % } does url pattern matching/lookup) -->
                    <!-- 2. sees pattern 'update/<int:id>' with placeholder 'id' -->
                    <!-- 3. matches 'i.id' with 'id' in the pattern (if 'i.id'=1, 'id' will be 1) -->
                    <!-- 4. generates URL like 'update/1' ( /update/<str:id>/ -> /update/1/ ) -->
                    <a href="{% url 'update' i.id %}"
                        style="color: blue; text-decoration: none; font-weight: bold; margin-right: 15px;">Edit</a>
                    <a href="{% url 'delete' i.id %}"
                        onclick="return confirm('Are you sure you want to delete this entry?');"
                        style="color: red; text-decoration: none; font-weight: bold;">Delete</a>
                </td>
            </tr>
            {% endfor %} <!-- End of loop -->
        </table>

        <a href="{% url 'home' %}">Home</a>
        <a href="{% url 'entry' %}">Add New Entry</a>
        <a href="{% url 'logout' %}" style="color: #666;">Logout</a>
    </div>
</body>

</html>